{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/Navbar.js"],"sourcesContent":["export default function Navbar() {\r\n    return (\r\n      <nav className=\"bg-purple-400 text-white p-4 shadow-md\">\r\n        <div className=\"container mx-auto flex justify-between items-center\">\r\n          <h1 className=\"text-xl font-bold\">Deadliner Tobat</h1>\r\n          <ul className=\"flex space-x-4\">\r\n            <li><a href=\"#\" className=\"hover:underline\">Tubes 2 IF2210 Strategi Algoritma</a></li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n  "],"names":[],"mappings":";;;;;AAAe,SAAS;IACpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAoB;;;;;;8BAClC,6LAAC;oBAAG,WAAU;8BACZ,cAAA,6LAAC;kCAAG,cAAA,6LAAC;4BAAE,MAAK;4BAAI,WAAU;sCAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKtD;KAXsB","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/RecipeToggle.js"],"sourcesContent":["export default function RecipeToggle({recipeType, setRecipeType}) {\r\n    return (\r\n        <div className=\"flex justify-center\">\r\n            <div className=\"inline-flex rounded-lg shadow-sm bg-purple-300\" role=\"group\">\r\n                <button\r\n                    onClick={() => setRecipeType('shortest')}\r\n                    className={`px-3 py-2 font-semibold rounded-l-lg ${\r\n                        recipeType === 'shortest' ? 'bg-purple-500' : 'hover:bg-purple-400'\r\n                    }`}\r\n                >\r\n                    Single Recipe\r\n                </button>\r\n                <button\r\n                    onClick={() => setRecipeType('multiple')}\r\n                    className={`px-3 py-2 font-semibold rounded-r-lg ${\r\n                        recipeType === 'multiple' ? 'bg-purple-500' : 'hover:bg-purple-400'\r\n                    }`}>\r\n                    Multiple Recipes\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAAe,SAAS,aAAa,EAAC,UAAU,EAAE,aAAa,EAAC;IAC5D,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;YAAiD,MAAK;;8BACjE,6LAAC;oBACG,SAAS,IAAM,cAAc;oBAC7B,WAAW,CAAC,qCAAqC,EAC7C,eAAe,aAAa,kBAAkB,uBAChD;8BACL;;;;;;8BAGD,6LAAC;oBACG,SAAS,IAAM,cAAc;oBAC7B,WAAW,CAAC,qCAAqC,EAC7C,eAAe,aAAa,kBAAkB,uBAChD;8BAAE;;;;;;;;;;;;;;;;;AAMxB;KAtBwB","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/AlgorithmDropdown.js"],"sourcesContent":["export default function AlgorithmDropdown({algorithmType, setAlgorithm}) {\r\n    return(\r\n        <div className=\"flex justify-center text-center gap-2\">\r\n            <select\r\n                value={algorithmType}\r\n                onChange={(e) => setAlgorithm(e.target.value)}\r\n                className={\"bg-purple-300 text-purple-900 font-bold border border-purple-300 px-4 py-2 rounded-lg hover:bg-purple-100\"}\r\n            >\r\n                <option value=\"BFS\">\r\n                    BFS\r\n                </option>\r\n                <option value=\"DFS\">\r\n                    DFS\r\n                </option>\r\n                <option value=\"BDR\">\r\n                    Bidirectional\r\n                </option>\r\n            </select>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAAe,SAAS,kBAAkB,EAAC,aAAa,EAAE,YAAY,EAAC;IACnE,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YACG,OAAO;YACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;YAC5C,WAAW;;8BAEX,6LAAC;oBAAO,OAAM;8BAAM;;;;;;8BAGpB,6LAAC;oBAAO,OAAM;8BAAM;;;;;;8BAGpB,6LAAC;oBAAO,OAAM;8BAAM;;;;;;;;;;;;;;;;;AAMpC;KApBwB","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/RecipeSlider.js"],"sourcesContent":["export default function RecipeSlider({ value, setValue }) {\r\n  return (\r\n    <div className=\"flex flex-col text-center gap-2\">\r\n      <h2 className=\"font-bold\">How many recipe do you want to see?</h2>\r\n      <h3 className=\"font\"> (0 for all recipes)</h3>\r\n      <div className=\"flex items-center gap-2 justify-center\">\r\n        <span>0</span>\r\n        <input\r\n          type=\"range\"\r\n          min=\"0\"\r\n          max=\"20\"\r\n          value={value}\r\n          onChange={(e) => setValue(e.target.value)}\r\n          className=\"w-48\"\r\n        />\r\n        <span>20</span>\r\n      </div>\r\n      <p className=\"text-sm text-purple-700\">Selected: {value}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAe,SAAS,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAE;IACtD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAY;;;;;;0BAC1B,6LAAC;gBAAG,WAAU;0BAAO;;;;;;0BACrB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCAAK;;;;;;kCACN,6LAAC;wBACC,MAAK;wBACL,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAU;;;;;;kCAEZ,6LAAC;kCAAK;;;;;;;;;;;;0BAER,6LAAC;gBAAE,WAAU;;oBAA0B;oBAAW;;;;;;;;;;;;;AAGxD;KApBwB","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/Sidebar.js"],"sourcesContent":["'use client';\r\nimport RecipeToggle from './RecipeToggle';\r\nimport AlgorithmDropdown from './AlgorithmDropdown';\r\nimport RecipeSlider from './RecipeSlider';\r\n\r\nexport default function Sidebar({\r\n  recipeType,\r\n  setRecipeType,\r\n  algorithmType,\r\n  setAlgorithm,\r\n  maxRecipe,\r\n  setMaxRecipe,\r\n  execTime,\r\n  nodeCount,\r\n}) {\r\n  return (\r\n    <aside className=\"bg-purple-200 px-4 py-6 space-y-14 min-w-[300px]\">\r\n      <div className=\"flex justify-center text-2xl font-semibold mb-12\">\r\n        Recipe Panel\r\n      </div>\r\n      <div><RecipeToggle\r\n        recipeType={recipeType}\r\n        setRecipeType={setRecipeType}\r\n      /></div>\r\n      <div><AlgorithmDropdown\r\n        algorithmType={algorithmType}\r\n        setAlgorithm={setAlgorithm}\r\n      /></div>\r\n      {recipeType === 'multiple' && (\r\n        <div><RecipeSlider value={maxRecipe} setValue={setMaxRecipe} /></div>\r\n      )}\r\n      {execTime !== null && nodeCount !== null && (\r\n        <div className=\"text-sm text-purple-700 space-y-4\">\r\n          <p><strong>Execution time:</strong> {execTime}ms</p>\r\n          <p><strong>Nodes visited:</strong> {nodeCount}</p>\r\n        </div>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,QAAQ,EAC9B,UAAU,EACV,aAAa,EACb,aAAa,EACb,YAAY,EACZ,SAAS,EACT,YAAY,EACZ,QAAQ,EACR,SAAS,EACV;IACC,qBACE,6LAAC;QAAM,WAAU;;0BACf,6LAAC;gBAAI,WAAU;0BAAmD;;;;;;0BAGlE,6LAAC;0BAAI,cAAA,6LAAC,6HAAA,CAAA,UAAY;oBAChB,YAAY;oBACZ,eAAe;;;;;;;;;;;0BAEjB,6LAAC;0BAAI,cAAA,6LAAC,kIAAA,CAAA,UAAiB;oBACrB,eAAe;oBACf,cAAc;;;;;;;;;;;YAEf,eAAe,4BACd,6LAAC;0BAAI,cAAA,6LAAC,6HAAA,CAAA,UAAY;oBAAC,OAAO;oBAAW,UAAU;;;;;;;;;;;YAEhD,aAAa,QAAQ,cAAc,sBAClC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAAwB;4BAAE;4BAAS;;;;;;;kCAC9C,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAAuB;4BAAE;;;;;;;;;;;;;;;;;;;AAK9C;KAlCwB","debugId":null}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/TreeVisualizer.jsx"],"sourcesContent":["'use client';\r\nimport Tree from 'react-d3-tree';\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nexport default function TreeVisualizer({target, algorithmType, maxRecipe, isLive}) {\r\n  const [treeData, setTreeData] = useState(null);\r\n  const incomingTreesRef = useRef([]);\r\n  const treeCountRef = useRef(0);\r\n  const seenSignatures = useRef(new Set());\r\n  \r\n  useEffect(() => {\r\n    if (!target || !algorithmType || maxRecipe == null || maxRecipe < 0) return;\r\n    \r\n    const baseURL = 'http://localhost:8080/api';\r\n    const algoPath = algorithmType.toLowerCase();\r\n\r\n    if (!isLive) {\r\n      // NON-LIVE MODE: fetch data statis dan gabungkan\r\n      fetch(`${baseURL}/${algoPath}?target=${encodeURIComponent(target)}&max_recipe=${maxRecipe}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setTreeData(combineTrees(data.trees, target));\r\n        })\r\n        .catch(err => console.error('Fetch error:', err));\r\n\r\n      return;\r\n    }\r\n\r\n    // LIVE MODE\r\n    incomingTreesRef.current = [];\r\n    treeCountRef.current = 0;\r\n    seenSignatures.current = new Set();\r\n\r\n    const es = new EventSource(\r\n      `${baseURL}/${algoPath}/stream?target=${encodeURIComponent(target)}&max_recipe=${maxRecipe}`\r\n    );\r\n\r\n    es.onmessage = (e) => {\r\n      const newTree = JSON.parse(e.data);\r\n      console.log(`[${algorithmType}] SSE-node:`, newTree);\r\n\r\n      const sig = getSignature(newTree);\r\n      if (!seenSignatures.current.has(sig)) {\r\n        seenSignatures.current.add(sig);\r\n\r\n        if (\r\n          newTree.name === target &&\r\n          Array.isArray(newTree.children) &&\r\n          newTree.children.length === 2\r\n        ) {\r\n          treeCountRef.current += 1;\r\n        }\r\n      }\r\n\r\n      incomingTreesRef.current.push(newTree);\r\n      const combined = combineTrees(incomingTreesRef.current, target);\r\n      setTreeData(combined);\r\n\r\n      if (treeCountRef.current >= maxRecipe) {\r\n        es.close();\r\n        console.log('Stopped SSE because maxRecipe reached');\r\n      }\r\n    };\r\n\r\n    es.onerror = () => {\r\n      es.close();\r\n      console.warn(`[${algorithmType}] SSE closed`);\r\n    };\r\n\r\n    return () => es.close();\r\n  }, [target, maxRecipe, algorithmType, isLive]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', height: '100vh', overflow: 'auto', background: '#fafafa' }}>\r\n      {treeData && (\r\n        <Tree\r\n          data={treeData}\r\n          orientation=\"vertical\"\r\n          collapsible={false}\r\n          translate={{ x: 600, y: 100 }}\r\n          zoom={0.6}\r\n          zoomable={true}\r\n          pathFunc=\"elbow\"\r\n          nodeSize={{ x: 120, y: 100 }}\r\n          separation={{ siblings: 0.6, nonSiblings: 0.8 }}\r\n          renderCustomNodeElement={({ nodeDatum }) => {\r\n            const isLeaf = !nodeDatum.children || nodeDatum.children.length === 0;\r\n            if (nodeDatum.name === '') {\r\n              return <g></g>;\r\n            }\r\n            return (\r\n              <g>\r\n                <circle r={15} fill={isLeaf ? 'white' : 'purple'} stroke=\"purple\" strokeWidth={2} />\r\n                <text\r\n                  y={-30}\r\n                  x={0}\r\n                  textAnchor=\"middle\"\r\n                  alignmentBaseline=\"middle\"\r\n                  style={{\r\n                    fontSize: '16px',\r\n                    fontFamily: 'system-ui, sans-serif',\r\n                    fontWeight: 300,\r\n                    fill: 'black',\r\n                    textShadow: 'none'\r\n                  }}\r\n                >\r\n                  {nodeDatum.name}\r\n                </text>\r\n              </g>\r\n            );\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction combineTrees(trees, rootName = \"Root\") {\r\n  if (!Array.isArray(trees) || trees.length === 0) return null;\r\n\r\n  const recipePairs = [];\r\n\r\n  for (const tree of trees) {\r\n    if (!tree || !Array.isArray(tree.children)) continue;\r\n\r\n    // Bungkus masing-masing tree agar tidak tercampur di visual\r\n    recipePairs.push({\r\n      name: '',\r\n      children: tree.children\r\n    });\r\n  }\r\n\r\n  if (recipePairs.length === 0) return null;\r\n\r\n  return {\r\n    name: rootName,\r\n    children: recipePairs\r\n  };\r\n}\r\n\r\nfunction getSignature(node) {\r\n  if (!node) return '';\r\n  if (!node.children || node.children.length === 0) {\r\n    return node.name;\r\n  }\r\n\r\n  // Ambil signature anak-anak\r\n  const childSigs = node.children.map(getSignature);\r\n\r\n  // Urutkan biar konsisten (misal \"Water,Fire\" sama dengan \"Fire,Water\")\r\n  childSigs.sort();\r\n\r\n  return `${node.name}(${childSigs.join(',')})`;\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/components/TreePage.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport TreeVisualizer from './TreeVisualizer';\r\n\r\nexport default function TreePage({\r\n  algorithmType,\r\n  searchElement,\r\n  setSearchElement,\r\n  execTime,\r\n  setExecTime,\r\n  nodeCount,\r\n  setNodeCount,\r\n  maxRecipe,\r\n}) {\r\n  const [target, setTarget] = useState('');    // ← state baru untuk trigger SSE\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLive, setIsLive] = useState(false);\r\n  const [confirmedMaxRecipe, setConfirmedMaxRecipe] = useState(maxRecipe);\r\n\r\n  const searchRecipe = async () => {\r\n    if (!searchElement.trim()) return;\r\n\r\n    setTarget(searchElement);                  // ← set target sebelum fetch\r\n    setConfirmedMaxRecipe(maxRecipe); // baru trigger visualisasi\r\n    setNodeCount(0);\r\n    setIsLoading(true);\r\n    const baseURL = 'http://localhost:8080/api';\r\n    let url = '';\r\n\r\n    if (algorithmType === 'BFS') {\r\n      url = `${baseURL}/bfs?target=${encodeURIComponent(searchElement)}&max_recipe=${maxRecipe}`;\r\n    } else if (algorithmType === 'DFS') {\r\n      url = `${baseURL}/dfs?target=${encodeURIComponent(searchElement)}&max_recipe=${maxRecipe}`;\r\n    } else {\r\n      url = `${baseURL}/bdr?target=${encodeURIComponent(searchElement)}&max_recipe=${maxRecipe}`;\r\n    }\r\n\r\n    try {\r\n      const t0 = performance.now();\r\n      const res = await fetch(url);\r\n      const data = await res.json();\r\n      const t1 = performance.now();\r\n\r\n      setExecTime((t1 - t0).toFixed(2));\r\n      setNodeCount(data.visited_count);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setExecTime(null);\r\n      setNodeCount(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"flex-grow p-6 overflow-auto\">\r\n      <div className=\"mb-6 text-center items-center\">\r\n        <h2 className=\"text-3xl font-bold mb-4\">\r\n            Little Alchemy Recipe Finder\r\n        </h2>\r\n        <div className=\"flex justify-center\">\r\n            <div className=\"flex items-center border border-purple-300 rounded-lg overflow-hidden bg-white w-80\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={searchElement}\r\n                    onChange={(e) => setSearchElement(e.target.value)}\r\n                    placeholder=\"What element's recipe do you want to know?\"\r\n                    className=\"flex-grow px-4 py-2 outline-none\"\r\n                />\r\n                <button \r\n                    disabled={searchElement.trim() === '' || isLoading}\r\n                    className={`px-4 py-2 ${\r\n                        searchElement.trim() === '' || isLoading\r\n                            ? 'bg-purple-300 text-white cursor-not-allowed'\r\n                            : 'bg-purple-500 text-white hover:bg-purple-400'\r\n                    }`}\r\n                    onClick={async () => {\r\n                        setIsLoading(true);\r\n                        try {\r\n                            await searchRecipe(searchElement, algorithmType);\r\n                        } finally {\r\n                            setIsLoading(false);\r\n                        }\r\n                    }}\r\n                >\r\n                    {isLoading ? (\r\n                      <div className=\"flex items-center space-x-2\">\r\n                          <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z\"></path>\r\n                          </svg>\r\n                          <span>Load</span>\r\n                      </div>\r\n                  ) : (\r\n                      'Search'\r\n                  )}\r\n                </button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center space-x-3 mt-4 justify-center\">\r\n        <span className=\"text-sm font-medium\">Live Tree:</span>\r\n        <button\r\n          onClick={() => setIsLive(prev => !prev)}\r\n          className={`relative w-16 h-8 rounded-full transition-colors duration-300 \r\n            ${isLive ? 'bg-purple-500' : 'bg-gray-300'}`}\r\n        >\r\n          <span\r\n            className={`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300\r\n              ${isLive ? 'translate-x-8' : 'translate-x-0'}`}\r\n          />\r\n          <span\r\n            className={`absolute top-1/2 right-2 transform -translate-y-1/2 text-xs font-bold text-white transition-opacity duration-200\r\n              ${isLive ? 'opacity-0' : 'opacity-100'}`}\r\n          >\r\n            OFF\r\n          </span>\r\n          <span\r\n            className={`absolute top-1/2 left-2 transform -translate-y-1/2 text-xs font-bold text-white transition-opacity duration-200\r\n              ${isLive ? 'opacity-100' : 'opacity-0'}`}\r\n          >\r\n            ON\r\n          </span>\r\n        </button>\r\n      </div>\r\n      <div className=\"min-w-[800px] min-h-[500px] border rounded bg-white p-4\">\r\n        {target && (\r\n            <TreeVisualizer\r\n            target={target}\r\n            algorithmType={algorithmType}\r\n            maxRecipe={confirmedMaxRecipe}\r\n            isLive={isLive}\r\n            />\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,SAAS,EAC/B,aAAa,EACb,aAAa,EACb,gBAAgB,EAChB,QAAQ,EACR,WAAW,EACX,SAAS,EACT,YAAY,EACZ,SAAS,EACV;;IACC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,KAAQ,iCAAiC;IAC9E,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7D,MAAM,eAAe;QACnB,IAAI,CAAC,cAAc,IAAI,IAAI;QAE3B,UAAU,gBAAiC,6BAA6B;QACxE,sBAAsB,YAAY,2BAA2B;QAC7D,aAAa;QACb,aAAa;QACb,MAAM,UAAU;QAChB,IAAI,MAAM;QAEV,IAAI,kBAAkB,OAAO;YAC3B,MAAM,GAAG,QAAQ,YAAY,EAAE,mBAAmB,eAAe,YAAY,EAAE,WAAW;QAC5F,OAAO,IAAI,kBAAkB,OAAO;YAClC,MAAM,GAAG,QAAQ,YAAY,EAAE,mBAAmB,eAAe,YAAY,EAAE,WAAW;QAC5F,OAAO;YACL,MAAM,GAAG,QAAQ,YAAY,EAAE,mBAAmB,eAAe,YAAY,EAAE,WAAW;QAC5F;QAEA,IAAI;YACF,MAAM,KAAK,YAAY,GAAG;YAC1B,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,KAAK,YAAY,GAAG;YAE1B,YAAY,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC;YAC9B,aAAa,KAAK,aAAa;QACjC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,YAAY;YACZ,aAAa;QACf,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA0B;;;;;;kCAGxC,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oCAChD,aAAY;oCACZ,WAAU;;;;;;8CAEd,6LAAC;oCACG,UAAU,cAAc,IAAI,OAAO,MAAM;oCACzC,WAAW,CAAC,UAAU,EAClB,cAAc,IAAI,OAAO,MAAM,YACzB,gDACA,gDACR;oCACF,SAAS;wCACL,aAAa;wCACb,IAAI;4CACA,MAAM,aAAa,eAAe;wCACtC,SAAU;4CACN,aAAa;wCACjB;oCACJ;8CAEC,0BACC,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;gDAAkC,OAAM;gDAA6B,MAAK;gDAAO,SAAQ;;kEACpG,6LAAC;wDAAO,WAAU;wDAAa,IAAG;wDAAK,IAAG;wDAAK,GAAE;wDAAK,QAAO;wDAAe,aAAY;;;;;;kEACxF,6LAAC;wDAAK,WAAU;wDAAa,MAAK;wDAAe,GAAE;;;;;;;;;;;;0DAEvD,6LAAC;0DAAK;;;;;;;;;;;+CAGV;;;;;;;;;;;;;;;;;;;;;;;0BAMhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAsB;;;;;;kCACtC,6LAAC;wBACC,SAAS,IAAM,UAAU,CAAA,OAAQ,CAAC;wBAClC,WAAW,CAAC;YACV,EAAE,SAAS,kBAAkB,eAAe;;0CAE9C,6LAAC;gCACC,WAAW,CAAC;cACV,EAAE,SAAS,kBAAkB,iBAAiB;;;;;;0CAElD,6LAAC;gCACC,WAAW,CAAC;cACV,EAAE,SAAS,cAAc,eAAe;0CAC3C;;;;;;0CAGD,6LAAC;gCACC,WAAW,CAAC;cACV,EAAE,SAAS,gBAAgB,aAAa;0CAC3C;;;;;;;;;;;;;;;;;;0BAKL,6LAAC;gBAAI,WAAU;0BACZ,wBACG,6LAAC,gIAAA,CAAA,UAAc;oBACf,QAAQ;oBACR,eAAe;oBACf,WAAW;oBACX,QAAQ;;;;;;;;;;;;;;;;;AAMpB;GArIwB;KAAA","debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///D:/Muhammad%20Raihan%20Nazhim%20Oktana/Kuliah%20STEI-K%20%28IF-G%29%20ITB/Tugas%20Stima/Tubes2_DeadlinerTobat/src/frontend/app/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Navbar from '../components/Navbar';\r\nimport Sidebar from '../components/Sidebar';\r\nimport TreePage from '../components/TreePage';\r\n\r\nexport default function Home() {\r\n  const [recipeType, setRecipeType] = useState('shortest');\r\n  const [algorithmType, setAlgorithm] = useState('BFS');\r\n  const [maxRecipe, setMaxRecipe] = useState(10);\r\n  const [searchElement, setSearchElement] = useState('');\r\n  const [execTime, setExecTime] = useState(null);\r\n  const [nodeCount, setNodeCount] = useState(null);\r\n  const [treeData, setTreeData] = useState([]); \r\n\r\n  // Dummy values\r\n  // const execTime = 1;\r\n  // const nodeCount = 1;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-purple-100 flex flex-col\">\r\n      <Navbar />\r\n      <div className=\"flex flex-grow\">\r\n        <Sidebar\r\n          recipeType={recipeType}\r\n          setRecipeType={setRecipeType}\r\n          algorithmType={algorithmType}\r\n          setAlgorithm={setAlgorithm}\r\n          maxRecipe={maxRecipe}\r\n          setMaxRecipe={setMaxRecipe}\r\n          execTime={execTime}\r\n          nodeCount={nodeCount}\r\n        />\r\n        <TreePage \r\n          algorithmType={algorithmType}\r\n          searchElement={searchElement}\r\n          setSearchElement={setSearchElement}\r\n          execTime={execTime}\r\n          setExecTime={setExecTime}\r\n          nodeCount={nodeCount}\r\n          setNodeCount={setNodeCount}\r\n          maxRecipe={maxRecipe}\r\n          treeData={treeData}\r\n          setTreeData={setTreeData}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,eAAe,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE3C,eAAe;IACf,sBAAsB;IACtB,uBAAuB;IAEvB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uHAAA,CAAA,UAAM;;;;;0BACP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wHAAA,CAAA,UAAO;wBACN,YAAY;wBACZ,eAAe;wBACf,eAAe;wBACf,cAAc;wBACd,WAAW;wBACX,cAAc;wBACd,UAAU;wBACV,WAAW;;;;;;kCAEb,6LAAC,yHAAA,CAAA,UAAQ;wBACP,eAAe;wBACf,eAAe;wBACf,kBAAkB;wBAClB,UAAU;wBACV,aAAa;wBACb,WAAW;wBACX,cAAc;wBACd,WAAW;wBACX,UAAU;wBACV,aAAa;;;;;;;;;;;;;;;;;;AAKvB;GA1CwB;KAAA","debugId":null}}]
}